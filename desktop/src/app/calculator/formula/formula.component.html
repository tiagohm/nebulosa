@let mFormula = formula();

<p class="mb-2 text-center">{{ mFormula.description }}</p>
<div class="flex items-center justify-center">
	<neb-tag
		[label]="mFormula.expression"
		size="large" />
</div>
<div class="mt-4 flex flex-col items-center justify-center gap-1">
	@for (item of mFormula.operands; track item.label) {
		<div class="grid">
			<div class="col-2 items-center justify-end">
				<span class="text-bold text-xl">{{ item.prefix }}</span>
			</div>
			<div class="col-8 flex justify-center">
				<neb-input-number
					[label]="item.label"
					[value]="item.value ?? 0"
					(valueChange)="item.value = $event; calculateFormula()"
					[fractionDigits]="item.maxFractionDigits ?? 4"
					[min]="item.min ?? 0" />
			</div>
			<div class="col-2 items-center justify-start">
				<span class="text-bold text-xl">{{ item.suffix }}</span>
			</div>
		</div>
	}
</div>
<p class="text-bold mb-1 mt-0 text-center text-5xl">=</p>
<div class="flex flex-row items-center justify-center gap-2">
	<span class="text-bold text-2xl">{{ mFormula.result.prefix }}</span>
	<neb-input-number
		[label]="mFormula.result.label"
		[readonly]="true"
		[value]="mFormula.result.value ?? 0"
		[fractionDigits]="mFormula.result.maxFractionDigits ?? 4" />
	<span class="text-bold text-xl">{{ mFormula.result.suffix }}</span>
</div>
@if (mFormula.tip) {
	<div class="mt-3 flex justify-center text-sm">
		<p-message
			severity="info"
			[text]="mFormula.tip" />
	</div>
}
