@let mFormula = formula();

<p class="text-center mb-2">{{ mFormula.description }}</p>
<div class="flex align-items-center justify-content-center">
	<neb-tag
		[label]="mFormula.expression"
		size="large" />
</div>
<div class="flex flex-column align-items-center justify-content-center gap-1 mt-4">
	@for (item of mFormula.operands; track item.label) {
		<div class="grid">
			<div class="col-2 align-items-center justify-content-end">
				<span class="text-xl text-bold">{{ item.prefix }}</span>
			</div>
			<div class="col-8 flex justify-content-center">
				<neb-input-number
					[label]="item.label"
					[value]="item.value ?? 0"
					(valueChange)="item.value = $event; calculateFormula()"
					[fractionDigits]="item.maxFractionDigits ?? 4"
					[min]="item.min ?? 0" />
			</div>
			<div class="col-2 align-items-center justify-content-start">
				<span class="text-xl text-bold">{{ item.suffix }}</span>
			</div>
		</div>
	}
</div>
<p class="text-bold text-center text-5xl mt-0 mb-1">=</p>
<div class="flex flex-row justify-content-center align-items-center gap-2">
	<span class="text-2xl text-bold">{{ mFormula.result.prefix }}</span>
	<neb-input-number
		[label]="mFormula.result.label"
		[readonly]="true"
		[value]="mFormula.result.value ?? 0"
		[fractionDigits]="mFormula.result.maxFractionDigits ?? 4" />
	<span class="text-xl text-bold">{{ mFormula.result.suffix }}</span>
</div>
@if (mFormula.tip) {
	<div class="flex justify-content-center mt-3 text-sm">
		<p-message
			severity="info"
			[text]="mFormula.tip" />
	</div>
}
