<div class="container px-4 py-3">
	<div class="grid flex align-items-center">
		<div class="col-12 sm:col-4">
			<neb-dropdown
				label="Device"
				[options]="devices"
				[value]="device"
				(valueChange)="deviceChanged($event)"
				emptyMessage="No device available" />
		</div>
		<div class="col-12 sm:col-8 flex flex-row align-items-center gap-1">
			<p-splitButton
				[label]="group"
				icon="mdi mdi-sitemap"
				(onClick)="changeGroup(group)"
				[model]="groups"
				class="w-auto"
				[style]="{ width: '260px' }" />
			<neb-button
				label="Log"
				icon="mdi mdi-post"
				(action)="showLog = true"
				severity="success" />
		</div>
	</div>
	<div class="grid properties mt-2">
		<div class="col-12 flex-column">
			@for (property of properties; track property.name) {
				<div>
					@if (!showLog && property.group === group) {
						<neb-indi-property
							[property]="property"
							(send)="send($event)" />
					}
				</div>
			}
			@if (showLog) {
				<div class="col-12 flex flex-column text-gray-200 h-full">
					<p-listbox
						#messageBox
						[options]="messages"
						[filter]="true"
						class="h-full"
						styleClass="border-0 h-full"
						[listStyle]="{ maxHeight: 'calc(100vh - 174px)' }" />
				</div>
			}
		</div>
	</div>
</div>
