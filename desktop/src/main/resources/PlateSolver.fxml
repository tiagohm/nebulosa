<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import nebulosa.desktop.view.platesolver.PlateSolverType?>
<?import org.controlsfx.control.ToggleSwitch?>
<AnchorPane maxHeight="-Infinity"
            maxWidth="-Infinity"
            minHeight="-Infinity"
            minWidth="-Infinity"
            prefHeight="360.0"
            prefWidth="420.0"
            stylesheets="@css/Global.css"
            xmlns="http://javafx.com/javafx/19"
            xmlns:fx="http://javafx.com/fxml/1">
    <VBox layoutX="116.0"
          layoutY="132.0"
          spacing="8.0"
          AnchorPane.bottomAnchor="0.0"
          AnchorPane.leftAnchor="0.0"
          AnchorPane.rightAnchor="0.0"
          AnchorPane.topAnchor="0.0">
        <padding>
            <Insets bottom="16.0"
                    left="16.0"
                    right="16.0"
                    top="16.0"/>
        </padding>
        <HBox alignment="CENTER"
              spacing="4.0">
            <VBox alignment="CENTER_LEFT"
                  HBox.hgrow="ALWAYS"
                  spacing="2.0">
                <Label text="File path:"
                       styleClass="text-sm"/>
                <TextField fx:id="filePathTextField"
                           disable="true"/>
            </VBox>
            <Button fx:id="browseButton"
                    text="Browse"
                    onAction="#browse">
                <HBox.margin>
                    <Insets top="14.0"/>
                </HBox.margin>
                <graphic>
                    <Label text="&#xF0349;"
                           styleClass="mdi,mdi-sm,text-blue-grey-700"/>
                </graphic>
            </Button>
        </HBox>
        <HBox alignment="CENTER"
              spacing="4.0">
            <fx:define>
                <PlateSolverType fx:id="plateSolverTypeInitialValue"
                                 fx:constant="ASTROMETRY_NET_LOCAL"/>
            </fx:define>
            <ChoiceBox fx:id="plateSolverTypeChoiceBox"
                       value="$plateSolverTypeInitialValue">
                <items>
                    <FXCollections fx:factory="observableArrayList">
                        <PlateSolverType fx:value="ASTROMETRY_NET_LOCAL"/>
                        <PlateSolverType fx:value="ASTROMETRY_NET_ONLINE"/>
                    </FXCollections>
                </items>
            </ChoiceBox>
        </HBox>
        <Label text="Parameters:"/>
        <VBox spacing="4.0"
              alignment="TOP_CENTER">
            <HBox alignment="CENTER_LEFT"
                  spacing="4.0">
                <Label text="Path/URL:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="pathOrUrlTextField"
                           promptText="solve-field"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"/>
                <Label text="API Key:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="apiKeyTextField"
                           promptText="XXXXXXXX"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"/>
            </HBox>
            <HBox alignment="CENTER_LEFT"
                  spacing="8.0">
                <ToggleSwitch fx:id="blindToggleSwitch"
                              text="Blind:"
                              styleClass="text-sm,text-bold,monospaced"
                              selected="true"/>
                <Label text="Factor:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="40.0"
                       maxWidth="40.0"
                       prefWidth="40.0"/>
                <Spinner fx:id="downsampleFactorSpinner"
                         min="1.0"
                         max="8.0"
                         amountToStepBy="1.0"
                         initialValue="2.0"
                         minWidth="60.0"
                         maxWidth="60.0"
                         prefWidth="60.0"/>
                <Label text="Radius (deg):"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="radiusTextField"
                           promptText="0.0"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"/>
            </HBox>
            <HBox alignment="CENTER_LEFT"
                  spacing="4.0">
                <Label text="Center RA:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="centerRATextField"
                           promptText="00h00m00.00s"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"/>
                <Label text="Center DEC:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="centerDECTextField"
                           promptText="00°00'00.00&quot;"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"/>
            </HBox>
        </VBox>
        <Label text="Astrometry solution:"/>
        <VBox spacing="4.0"
              alignment="TOP_CENTER">
            <HBox alignment="CENTER_LEFT"
                  spacing="4.0">
                <Label text="RA:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="raTextField"
                           editable="false"
                           text="00h00m00.00s"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"
                           focusTraversable="false"/>
                <Label text="DEC:"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="68.0"
                       maxWidth="68.0"
                       prefWidth="68.0"/>
                <TextField fx:id="decTextField"
                           editable="false"
                           text="00°00'00.00&quot;"
                           minWidth="120.0"
                           maxWidth="120.0"
                           prefWidth="120.0"
                           focusTraversable="false"/>
            </HBox>
            <HBox alignment="CENTER_LEFT"
                  spacing="4.0">
                <Label text="Orientation (deg):"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="98.0"
                       maxWidth="98.0"
                       prefWidth="98.0"/>
                <TextField fx:id="orientationTextField"
                           editable="false"
                           text="0.00"
                           minWidth="90.0"
                           maxWidth="90.0"
                           prefWidth="90.0"
                           focusTraversable="false"/>
                <Label text="Scale (&quot;/px):"
                       styleClass="text-sm,text-bold,monospaced"
                       minWidth="98.0"
                       maxWidth="98.0"
                       prefWidth="98.0"/>
                <TextField fx:id="scaleTextField"
                           editable="false"
                           text="0.0000"
                           minWidth="90.0"
                           maxWidth="90.0"
                           prefWidth="90.0"
                           focusTraversable="false"/>
            </HBox>
        </VBox>
        <HBox alignment="CENTER"
              spacing="4.0">
            <VBox.margin>
                <Insets top="8.0"/>
            </VBox.margin>
            <Button fx:id="solveButton"
                    text="Solve"
                    onAction="#solve">
                <graphic>
                    <Label text="&#xF04CE;"
                           styleClass="mdi,mdi-sm,text-yellow-700"/>
                </graphic>
            </Button>
            <Button fx:id="syncButton"
                    text="Sync"
                    onAction="#sync">
                <graphic>
                    <Label text="&#xF04E6;"
                           styleClass="mdi,mdi-sm,text-blue-700"/>
                </graphic>
            </Button>
        </HBox>
    </VBox>
</AnchorPane>
